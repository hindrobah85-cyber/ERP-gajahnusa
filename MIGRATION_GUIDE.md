# 🚀 MIGRATION GUIDE - Project_ERP to USB Drive

## 📋 Complete Migration Process

### Prerequisites on Target PC
```
✅ Node.js 18+
✅ Python 3.11+
✅ Go 1.21+
✅ Git
✅ PostgreSQL (for Team 6)
✅ Redis (for Team 2)
```

---

## 🔄 MIGRATION STEPS

### Step 1: Cleanup (Optional but Recommended)
Menghapus file yang tidak perlu untuk mengurangi ukuran:

```bash
cd D:\Project_ERP
.\cleanup-before-migration.bat
```

**Akan menghapus:**
- `node_modules/` (semua team)
- `__pycache__/` (Python cache)
- `venv/` (Python virtual environments)
- `.next/`, `dist/`, `build/` (build artifacts)

**Ukuran berkurang:** ~500MB - 1GB

---

### Step 2: Copy to USB Drive E:\

```bash
cd D:\Project_ERP
.\copy-to-usb.bat
```

**Script ini akan:**
1. ✅ Verify USB drive E:\ exists
2. ✅ Copy semua source code
3. ✅ Copy configuration files
4. ✅ Copy documentation
5. ✅ Copy .git repository
6. ✅ **Exclude** node_modules, cache, venv
7. ✅ Verify critical files copied

**Copy method:** Robocopy dengan retry dan multi-thread

---

### Step 3: Setup on USB Drive

Setelah copy selesai, pindah ke USB:

```bash
E:
cd E:\Project_ERP
.\setup-after-migration.bat
```

**Script ini akan:**
1. ✅ Install semua npm dependencies (8 teams)
2. ✅ Create Python virtual environments
3. ✅ Install Python packages (Teams 4, 5, 8)
4. ✅ Download Go modules (Team 7)
5. ✅ Verify critical files
6. ✅ Check database files

**Waktu:** ~10-15 menit (tergantung koneksi internet)

---

### Step 4: Verify Installation

```bash
# Test startup script
E:
cd E:\Project_ERP
.\start-all-teams.bat
```

**Semua 8 teams harus start tanpa error!**

---

## 📁 File Structure After Migration

```
E:\Project_ERP\
├── packages/
│   ├── team1-sales-mobile/
│   │   ├── src/
│   │   ├── package.json
│   │   └── node_modules/          ← Generated by setup
│   ├── team2-logistics/
│   │   ├── src/
│   │   ├── backend/
│   │   └── node_modules/          ← Generated by setup
│   ├── team3-finance/
│   │   └── node_modules/          ← Generated by setup
│   ├── team4-hr/
│   │   ├── src/
│   │   ├── backend/
│   │   │   ├── venv/              ← Generated by setup
│   │   │   └── requirements.txt
│   │   └── node_modules/          ← Generated by setup
│   ├── team5-ecommerce/
│   │   ├── src/
│   │   ├── backend/
│   │   │   └── venv/              ← Generated by setup
│   │   └── node_modules/          ← Generated by setup
│   ├── team6-retail-pos/
│   │   ├── src/
│   │   ├── backend/
│   │   │   └── node_modules/      ← Generated by setup
│   │   └── node_modules/          ← Generated by setup
│   ├── team7-customer-service/
│   │   ├── src/
│   │   ├── backend/
│   │   │   └── go.mod
│   │   └── node_modules/          ← Generated by setup
│   └── team8-analytics/
│       ├── src/
│       ├── backend/
│       │   └── venv/              ← Generated by setup
│       └── node_modules/          ← Generated by setup
├── .git/                          ← Git repository intact
├── start-all-teams.bat
├── setup-after-migration.bat
├── README_COMPLETE.md
├── SYSTEM_DOCUMENTATION.md
└── MIGRATION_GUIDE.md
```

---

## 🔧 Troubleshooting

### Issue: USB drive not detected as E:\
**Solution:**
1. Masukkan USB drive
2. Buka Disk Management
3. Assign drive letter E:\ ke USB
4. Run `.\copy-to-usb.bat` lagi

### Issue: npm install failed
**Solution:**
```bash
# Clear npm cache
npm cache clean --force

# Run setup again
.\setup-after-migration.bat
```

### Issue: Python venv creation failed
**Solution:**
```bash
# Ensure Python is in PATH
python --version

# Create venv manually
cd packages\team4-hr\backend
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

### Issue: Go modules download failed
**Solution:**
```bash
cd packages\team7-customer-service\backend
go clean -modcache
go mod download
```

### Issue: Port already in use
**Solution:**
```bash
# Find process using port
netstat -ano | findstr :3008

# Kill process
taskkill /PID <PID> /F
```

---

## 🎯 Running from USB

### Quick Start
```bash
E:
cd E:\Project_ERP
.\start-all-teams.bat
```

### Individual Teams
```bash
# Team 4 example
E:
cd E:\Project_ERP\packages\team4-hr
.\start-team4.bat
```

---

## ⚠️ Important Notes

### USB Drive Requirements
- **Type:** USB 3.0+ (recommended for performance)
- **Format:** NTFS
- **Free Space:** Minimum 2GB
- **Speed:** High-speed USB for better performance

### Performance Considerations
1. **USB 3.0 vs 2.0:** USB 3.0 significantly faster
2. **SSD USB vs HDD USB:** SSD much better
3. **node_modules:** May be slower on USB, be patient during npm install

### Data Safety
1. ✅ Git repository included - you can commit/push from USB
2. ✅ All databases copied (SQLite files)
3. ⚠️ PostgreSQL database (Team 6) - needs manual backup/restore
4. ⚠️ Redis data - needs manual backup if data is important

### Working from USB
```bash
# You can develop directly from USB
E:
cd E:\Project_ERP

# Git commands work normally
git status
git add .
git commit -m "Changes from USB"
git push origin main
```

---

## 📊 Migration Checklist

### Pre-Migration
- [x] All changes committed to Git
- [x] All changes pushed to GitHub
- [x] Cleanup script executed
- [x] USB drive prepared and formatted

### During Migration
- [x] Files copied to USB (copy-to-usb.bat)
- [x] Verification passed
- [x] Critical files confirmed

### Post-Migration
- [x] Dependencies installed (setup-after-migration.bat)
- [x] All 8 teams tested
- [x] Databases accessible
- [x] Git repository working

---

## 🎉 Migration Complete!

Your Project_ERP is now portable on USB Drive E:\

**You can now:**
- ✅ Run from USB on any PC (with prerequisites)
- ✅ Develop and commit changes
- ✅ Push to GitHub from USB
- ✅ Move between computers easily

---

**Created:** October 16, 2025  
**For:** Gajah Nusa ERP System  
**Status:** Production Ready
